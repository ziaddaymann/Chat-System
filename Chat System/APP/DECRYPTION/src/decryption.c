 /******************************************************************************
 *
 * Module: Decryption
 *
 * File Name: decryption.c
 *
 * Description: Source file that decrypt the message.
 *
 * Author: Ziad Ayman
 *
 *******************************************************************************/



#include "decryption.h"


uint8 mapping1[255]={'A',156,157,158,159,140,141,142,143,144,145,146,
                   147,148,149,130,131,132,133,134,135,136,137,138,139,129,128,127,126,125,124,
                   'a',163,164,165,166,167,168,169,150,151,152,153,154,155,174,162,'b','B','C','c',189,
                   170,171,172,173,175,188,176,177,178,179,160,161,182,183,184,185,186,187,'M','m','N',
                   'n','V','v',192,193,194,195,196,197,198,199,180,181,'1','2','3','4',255,254,253,252,
                   251,250,'5','6','7','8','9','q','w','r','t','y','e','s','S','d','D','z','Z','X','x',
                   'L','l','P','p','K','k','F','f',249,248,247,246,245,244,243,242,241,240,239,238,237,
                   236,235,234,233,232,231,230,220,221,222,223,224,225,226,227,228,229,210,211,212,213,
                   214,215,216,217,218,219,200,201,202,203,204,205,206,207,208,209,190,191};

void decrypt (uint8 encryptedMessage[] , uint16 size)
{
    int i=0 , j=0;                                      //i loop on size, j loop on mapping array size

    // loop on the message size
    for(i=0;i<size;i++)
    {
        //loop on mapping array size
        for(j=0;j<=255;j++)
        {
            if (mapping1[j]==encryptedMessage[i])
            {
                break;
            }
        }
        encryptedMessage[i]=j;                          //decrypt the message
    }
}